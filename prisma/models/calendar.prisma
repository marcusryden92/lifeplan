// --- Calendar Models ---

enum WeekDayType {
    sunday // index 0
    monday // index 1
    tuesday // index 2
    wednesday // index 3
    thursday // index 4
    friday // index 5
    saturday // index 6
}

// CalendarEvent model with relation to User and embedded RRule
model SimpleEvent {
    id       String   @id @default(cuid())
    title    String
    start    DateTime
    end      DateTime
    duration Int?
    userId   String
    user     User     @relation(fields: [userId], references: [id], onDelete: Cascade)

    rrule String?

    isTemplateItem  Boolean
    backgroundColor String
    borderColor     String

    createdAt DateTime? @default(now())
    updatedAt DateTime? @updatedAt

    @@map("SimpleEvents")
}

enum PlanType {
    task
    plan
    goal
}

// Planner model for tracking tasks, plans, and goals
model Planner {
    id                 String    @id @default(uuid())
    title              String
    parentId           String?
    type               PlanType?
    isReady            Boolean?
    duration           Int?
    deadline           DateTime?
    starts             DateTime?
    dependency         String?
    completedStartTime DateTime?
    completedEndTime   DateTime?
    color              String?

    userId String
    user   User   @relation(fields: [userId], references: [id])

    @@map("Planners")
}

// --- EventTemplate Model ---
model EventTemplate {
    id        String      @id @default(cuid())
    title     String
    startDay  WeekDayType // Weekday name
    startTime String // Time in "HH:mm" format
    duration  Int // Duration in minutes
    createdAt DateTime?   @default(now())
    updatedAt DateTime?   @updatedAt

    userId String
    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)

    @@map("EventTemplates")
}
